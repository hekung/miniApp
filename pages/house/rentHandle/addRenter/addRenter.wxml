<view class="page" hover-class="none" hover-stop-propagation="false">
    <view class="searchs">
        <van-cell-group wx:if="{{step==0}}">
            <picker mode="date" value="{{startDate}}" start="2000-01-01" end="2999-12-31" bindchange="bindStartDateChange">
                <van-cell title="起始日期" value="{{startDate}}" is-link />
            </picker>
            <picker mode="date" value="{{endDate}}" start="2000-01-01" end="2999-12-31" bindchange="bindEndDateChange">
                <van-cell title="结束日期" value="{{endDate}}" is-link />
            </picker>
            <van-cell title="省市区" value="{{selectedOptions}}" data-type="{{1}}" bind:click="clickToPick" is-link></van-cell>
            <van-popup show="{{ showPicker }}" bind:close="onClosePick" position="bottom">
                <van-picker show-toolbar bind:cancel="onCancelPick" bind:confirm="onConfirmPick" columns="{{ pickList }}" bind:change="onChangePickVal" />
            </van-popup>
            <van-cell title="小区" value="{{selectedCommunity}}" data-type="{{2}}" bind:click="clickToPick" is-link></van-cell>
            <van-cell title="栋号" value="{{buildNo}}" data-type="{{3}}" bind:click="clickToPick" is-link></van-cell>
            <van-cell title="层号" value="{{layerNo}}" data-type="{{4}}" bind:click="clickToPick" is-link></van-cell>
            <van-cell title="户号" value="{{buildNo}}" data-type="{{5}}" bind:click="clickToPick" is-link></van-cell>
            <view class="btns" hover-class="none" hover-stop-propagation="false">
                <van-button type="danger" size="small" round bind:click="goNext">下一步</van-button>
            </view>
        </van-cell-group>
        <block wx:elif="{{step==1}}">
            <van-cell-group title="租客基本信息">
                <van-field value="{{ userName }}" center clearable label="名称" placeholder="请输入"></van-field>
                <van-cell title="性别">
                    <view>
                        <van-radio-group value="{{  sex }}" bind:change="onChangeSexType" direction="horizontal">
                            <van-radio name="{{1}}">男</van-radio>
                            <van-radio name="{{2}}">女</van-radio>
                        </van-radio-group>
                    </view>
                </van-cell>
                <van-field value="{{ appId }}" center clearable label="小程序ID" placeholder="请输入"></van-field>
                <van-field value="{{ phone }}" center clearable label="手机号" placeholder="请输入" type="number"></van-field>
                <van-field value="{{ wechat }}" center clearable label="微信号" placeholder="请输入"></van-field>
                <picker mode="date" value="{{birthDate}}" start="1900-01-01" end="2030-12-31" bindchange="bindBirthDateChange">
                    <van-cell title="出生日期" value="{{birthDate}}" is-link />
                </picker>
                <van-cell title="证件类型">
                    <view>
                        <van-radio-group value="{{  passType }}" bind:change="onChangeSexType" direction="horizontal">
                            <van-radio name="{{1}}">身份证</van-radio>
                            <van-radio name="{{2}}">护照</van-radio>
                        </van-radio-group>
                    </view>
                </van-cell>
                <van-field value="{{ passNumber }}" clearable label="证件号码" placeholder="请输入" type="number"></van-field>
                <van-cell title="证件地址" value="{{passPlaces}}" data-type="{{6}}" bind:click="clickToPick" is-link></van-cell>
                <van-field value="{{ address }}" clearable label="详细地址" placeholder="请输入"></van-field>
            </van-cell-group>
            <van-cell-group inset title="上传证件图片">
                <view class="items" hover-class="none" hover-stop-propagation="false">
                    <van-uploader deletable="{{ true }}" bind:after-read="afterReadImg" max-count="3" file-list="{{ imgUrls }}" class="up">
                        <van-cell title="点击上传" is-link />
                    </van-uploader>
                </view>
            </van-cell-group>
            <view class="btns" hover-class="none" hover-stop-propagation="false">
                <van-button type="danger" size="small" round bind:click="goNext">下一步</van-button>
                <van-button plain type="danger" size="small" round bind:click="goLast">
                    返回上一步
                </van-button>
                <van-button plain size="small" round bind:click="cancelCreate">取消</van-button>
            </view>
        </block>
        <block wx:elif="{{step==2}}">
            <van-cell-group title="租赁信息">
                <van-field value="{{ price }}" center clearable label="租赁单价" placeholder="请输入单价/元" border="{{ false }}" use-button-slot>
                    <!-- <van-button size="small" type="primary">发送验证码</van-button> -->
                    <van-dropdown-menu slot="button">
                        <van-dropdown-item title="结算周期" value="{{ dateType }}" options="{{ dateTypeOptions }}" />
                    </van-dropdown-menu>
                </van-field>
                <van-cell title="租赁状态">
                    <van-radio-group value="{{  statusType }}" bind:change="onChangeStatusType" direction="horizontal">
                        <van-radio name="{{1}}">新租</van-radio>
                        <van-radio name="{{2}}">已在租</van-radio>
                    </van-radio-group>
                </van-cell>
                <block wx:if="{{statusType==2}}">
                    <van-field value="{{ lastMonthWater }}" center clearable label="上月水表底数" placeholder="请输入"></van-field>
                    <picker mode="date" value="{{lastMonthWaterDate}}" start="2000-01-01" end="2999-12-31" bindchange="bindLastWaterDateChange">
                        <van-cell title="上月水表日期" value="{{lastMonthWaterDate}}" is-link />
                    </picker>
                    <van-field value="{{ lastMonthElec }}" center clearable label="上月电表底数" placeholder="请输入"></van-field>
                    <picker mode="date" value="{{lastMonthElecDate}}" start="2000-01-01" end="2999-12-31" bindchange="bindLastElecDateChange">
                        <van-cell title="上月水表日期" value="{{lastMonthElecDate}}" is-link />
                    </picker>
                </block>
                <van-field value="{{ yajin }}" center clearable label="押金" placeholder="请输入"></van-field>
            </van-cell-group>
            <van-cell-group inset title="上传租赁合同">
                <view class="items" hover-class="none" hover-stop-propagation="false">
                    <van-uploader deletable="{{ true }}" bind:after-read="afterRead" max-count="1" file-list="{{ fileList }}" class="up" accept="file">
                        <van-button icon="plus" block type="primary ">上传合同</van-button>
                    </van-uploader>
                </view>
            </van-cell-group>
            <view class="btns" hover-class="none" hover-stop-propagation="false">
                <van-button type="danger" size="small" round bind:click="save">保存</van-button>
                <van-button plain type="danger" size="small" round bind:click="goLast">
                    返回上一步
                </van-button>
                <van-button plain size="small" round bind:click="cancelCreate">取消</van-button>
            </view>
        </block>
    </view>
</view>